{"reaction_summary": {"reaction_type": null, "reactants": [], "products": [{"name": null, "yield_optimal": 82, "unit": "%"}], "conditions": [{"type": "temperature", "value": "80 °C"}, {"type": "flow_rate_total", "value": "0.1 mL/min"}], "reactor": {"type": "coil", "inner_diameter": "0.5 mm"}, "metrics": {"conversion": null, "yield": 82, "selectivity": null, "unit": "%"}}}

{"reaction_summary": {"reaction_type": null, "reactants": [], "products": [{"name": null, "yield_optimal": 82, "unit": "%"}], "conditions": [{"type": "temperature", "value": "80 °C"}, {"type": "flow_rate_total", "value": "0.1 mL/min"}], "reactor": {"type": "coil", "inner_diameter": "0.5 mm"}, "metrics": {"conversion": null, "yield": 82, "selectivity": null, "unit": "%"}}}

{
        "reaction_summary": {
            "reactants": [],
            "products": [{"name": None, "yield_optimal": yield_optimal, "unit": "%"}],
            "conditions": [
                {"type":"temperature","value":f"{temperature} °C"},
                {"type":"flow_rate_total","value":f"{flow_rate_total} mL/min"}

{ "reaction_summary": { 
    "reaction_type":"azo compounds synthesis", 
    "reactants":[{"name":"amine + HCl solution","role":"solvent"}], 
    "products":[
        {"name":"azocompound","yield_optimal":95,"unit":"%"}
    ], 
    "conditions":[{
        "type":"temperature",
        "value":"80 °C"
    },{
        "type":"residence_time",
        "value":null
    }

{"type": "residence_time", "value": f"{value:.2f} {unit}"}

- Temperature is in °C; residence_time and flow_rate are normalized to min and mL/min respectively.


from typing import List


    # Parse reaction type (if present)
    if "azo coupling" in input_str.lower():
        reaction_type = "azo coupling"
    elif "diazo" in input_str.lower() and "coupling" not in input_str.lower():
        reaction_type = "diazotization"
    else:
        reaction_type = None

    # Parse reactants
    if re.search(r"Sudan II", input_str):
        reactant_A_name = "Sudan II"
        reactant_B_name = "unknown"
    elif re.search(r"nitrobenzene|phenol", input_str, flags=re.IGNORECASE):
        reactant_A_name = "nitrobenzene"
        reactant_B_name = "phenol"

    # Parse products
    if re.search(r"Sudan II azo dye", input_str):
        product_name = "Sudan II azo dye"
        yield_optimal = 95

    # Parse conditions (temperature, residence time, flow rate)
    temperature_match = re.search(r"

- Temperature is in °C
- Residence time is in min
- Flow rate is in mL/min
- Inner diameter is in mm

Step 1: Preprocess input string to extract relevant information.





    # Extract temperature, residence_time and flow_rate from the input string.
    match = re.search(r"(\d+) °C", input_str)
    if match:
        temp = float(match.group(1))
    
    match = re.search(r"in a (\d+ mm) coil;", input_str)
    if match:
        inner_diameter = int(match.group(1))

    # Extract yield from the input string.
    match = re.search(r"yield (\d+)%", input_str)
    if match:
        optimal_yield = float(match.group(1))
    
    return temp, inner_diameter, optimal_yield
Step 2: Parse conditions and metrics.



    # Extract flow rate from the input string.
    match = re.search(r"(\d+) mL/min", input_str)
    if match:
        flow_rate_total = float(match.group(1))
    
    return {"type": "flow_rate_total", "value": f"{flow

- Temperature is in °C
- Residence time is in min
- Flow rate is in mL/min
- Inner diameter is in mm





    # Parse reaction type (if present)
    match = re.search(r"(\w+)-", input_str, flags=re.IGNORECASE)
    if match:
        reaction_type = match.group(1).lower()
    
    # Parse reactants and products
    words = input_str.split()
    for i in range(len(words)):
        word = words[i]
        
        # Check if the word is a product (contains "yield")
        if re.search(r"(\d+)%", word):
            yield_optimal = float(re.findall("\d+", word)[0])
            
            # Parse name of product
            if i > 1:
                name = ' '.join(words[:i]).strip()
                
            else: 
                name = None
                
        elif re.search(r"(\w+)-", word, flags=re.IGNORECASE):
            reaction_type = match.group(1).lower()  
            
    # Parse conditions
    for i in range(len(words)):
        word = words[i]
        
        if "T=" in word:
            temperature_value = float(re

{"name": name, "role": role}

# Parse temperature and flow rate
    temp = None
    flow_rate_total = None
    match_temp = re.search(r"(\d+) °C", input_str)
    if match_temp:
        temp = int(match_temp.group(1))
    
    match_flow_rate = re.search(r"Flow\s+rate\s+(\d+\.\d+)\s+mL/min", input_str, re.IGNORECASE)
    if match_flow_rate:
        flow_rate_total = float(match_flow_rate.group(1))

    # Parse residence time
    residence_time = None
    match_residence_time = re.search(r"in a (\d+) mm coil", input_str)
    if match_residence_time:
        inner_diameter = int(match_residence_time.group(1))
    
    # Parse yield and reaction type (if present)
    yield_optimal = None
    reaction_type = null
    match_yield = re.search(r"yield\s+(\d+)%", input_str, re.IGNORECASE)
    if match_yield:
        yield_optimal = int(match_yield.group(1))

    match_reaction_type = re.search(r"(coupling|cross-coupling)", input_str, re.IGNORECASE)
    if match

